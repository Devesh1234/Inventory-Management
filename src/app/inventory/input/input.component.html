<div class="main-wrapper">

    <app-header></app-header>
    <app-sidebar></app-sidebar>

    <div class="page-wrapper">
        <div class="content">
            <div class="page-header">
                <div class="page-title">
                    <h4>Item Addition</h4>
                    <h6>Add/Update Item</h6>
                </div>
                <div>
                    <a data-toggle="modal" data-target="#exampleModalCenter">
                        <img src="assets/img/icons/eye.svg" alt="">
                    </a>
                </div>
            </div>




            <div class="row">
                <div class="col-lg-12">
                    <div class="form-group">



                        <div class="image-upload mb-2">
                            <input #fileInput type="file" (change)="onFileSelected($event)"
                                [disabled]="uploadedFile!=null" accept=".xlsx,.csv" value="">
                            <div class="image-uploads">
                                <img *ngIf="!uploadedFile" src="assets/img/icons/upload.svg" alt="img">
                                <img *ngIf="uploadedFile" src="assets/img/icons/check.png" alt="img" width="25"
                                    height="25">
                                <h4 *ngIf="!uploadedFile">Drag and drop a file to upload</h4>
                                <h4 class="text-success" *ngIf="uploadedFile">File Uploaded</h4>
                            </div>
                        </div>


                        <div class="d-flex justify-content-end">

                            <div class="page-btn">
                                <button class="btn btn-primary me-2" [disabled]="uploadedFile==null"
                                    (click)="saveUploadFile()">Save</button>
                                <button class="btn btn-secondary" [disabled]="uploadedFile==null"
                                    (click)="onFileCancel()">Cancel</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>





            <div class="row">
                <h4 class="mb-4 text-center">------------------- Or Add Manually -------------------</h4>
            </div>




            <div class="card">
                <div class="card-body">
                    <form class="row" [formGroup]="addItemform">

                        <div class=" col-sm-4 col-12">
                            <div class="form-group">
                                <label>Menu Item <span class="manitory">*</span></label>
                                <input type="text" formControlName='menu_item'>
                            </div>
                        </div>



                        <div class=" col-sm-4 col-12">
                            <div class="form-group">
                                <label>Category<span class="manitory">*</span></label>
                                <div class="btn-group">
                                    <button type="button" class="custom-select-btn dropdown-toggle text-left"
                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <!-- <i class="ion-ios-sunny mr-4"></i> -->
                                        {{selectedCategoryValue}}
                                    </button>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <a class="dropdown-item " *ngFor="let item of categoriesList"
                                            (click)="selectCatgeory(item)">
                                            {{item?.name}}
                                        </a>

                                    </div>
                                </div>
                            </div>
                        </div>




                        <div class=" col-sm-4 col-12">
                            <div class="form-group">
                                <label>Sub Category<span class="manitory">*</span></label>
                                <div class="btn-group">
                                    <button type="button" class="custom-select-btn dropdown-toggle text-left"
                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <!-- <i class="ion-ios-sunny mr-4"></i> -->
                                        {{selectedSubCategoryValue}}
                                    </button>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <a class="dropdown-item " *ngFor="let item of filteredSubCategoriesList"
                                            (click)="selectSubCatgeory(item)">
                                            {{item?.name}}
                                        </a>

                                    </div>
                                </div>
                            </div>
                        </div>



                        <div class=" col-sm-4 col-12">
                            <div class="form-group">
                                <label>Sub Sub Category<span class="manitory">*</span></label>
                                <div class="btn-group">
                                    <button type="button" class="custom-select-btn dropdown-toggle text-left"
                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <!-- <i class="ion-ios-sunny mr-4"></i> -->
                                        {{selectedSubSubCategoryValue}}
                                    </button>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <a class="dropdown-item " *ngFor="let item of filteredSubSubCategoriesList"
                                            (click)="selectSubSubCatgeory(item)">
                                            {{item?.name}}
                                        </a>

                                    </div>
                                </div>
                            </div>
                        </div>




                        <div class=" col-sm-4 col-12">
                            <div class="form-group">
                                <label>Size Type<span class="manitory">*</span></label>
                                <div class="btn-group">
                                    <button type="button" class="custom-select-btn dropdown-toggle text-left"
                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <!-- <i class="ion-ios-sunny mr-4"></i> -->
                                        {{selectedSizeType}}
                                    </button>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <a class="dropdown-item " *ngFor="let item of sizeTypeList"
                                            (click)="selectSizeType(item)">
                                            {{item}}
                                        </a>

                                    </div>
                                </div>
                            </div>
                        </div>

                        
                        <div class=" col-sm-4 col-12"  *ngIf="selectedSizeType!='Available'">
                            <div class="form-group">
                                <label>Price<span class="manitory">*</span></label>
                                <input type="text" formControlName="price" appNumbersOnly>
                            </div>
                        </div>




                        <div class=" col-sm-4 col-12" *ngIf="selectedSizeType=='Available'">
                            <div class="form-group">
                                <label>Small Price<span class="manitory">*</span></label>
                                <input type="text" formControlName="s_price" appNumbersOnly>
                            </div>
                        </div>







                        <div class=" col-sm-4 col-12" *ngIf="selectedSizeType=='Available'">
                            <div class="form-group">
                                <label>Medium Price<span class="manitory">*</span></label>
                                <input type="text" formControlName="m_price" appNumbersOnly>
                            </div>
                        </div>






                        <div class=" col-sm-4 col-12" *ngIf="selectedSizeType=='Available'">
                            <div class="form-group">
                                <label>Large Price<span class="manitory">*</span></label>
                                <input type="text" formControlName="l_price" appNumbersOnly>
                            </div>
                        </div>



                        

                        <div class=" col-sm-4 col-12" *ngIf="selectedSizeType=='Available'">
                            <div class="form-group">
                                <label>Extra Large Price<span class="manitory">*</span></label>
                                <input type="text" formControlName="xl_price">
                            </div>
                        </div>

















                        <div class=" col-12">
                            <div class="form-group mb-3">
                                <label>Ingredients<span class="manitory">*</span></label>
                                <input type="text" (keyup.enter)="addTag($event)" placeholder="Add a tag">
                            </div>
                            <ul class="ingredients_list" *ngIf="tags.length!=0">
                                <li *ngFor="let tag of tags; let i = index">
                                   <p>{{tag}}</p> 
                                   <h3 class="remove" (click)="removeTagItem(i)">&times;</h3>
                                </li>
                            </ul>
                        </div>
























                      



                        <div class=" col-sm-4 col-12">
                            <div class="form-group">
                                <label>Item Type<span class="manitory">*</span></label>
                                <div class="btn-group">
                                    <button type="button" class="custom-select-btn dropdown-toggle text-left"
                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        {{selectedItemType}}
                                    </button>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <a class="dropdown-item " *ngFor="let item of itemTypeList"
                                            (click)="selectItemType(item)">
                                            {{item}}
                                        </a>

                                    </div>
                                </div>
                            </div>
                        </div>






























                        <div class=" col-sm-4 col-12">
                            <div class="form-group">
                                <label>Estimate Time<span class="manitory">*</span></label>
                                <input type="text" formControlName="estimate_time">
                            </div>
                        </div>



                        <div class=" col-sm-4 col-12">
                            <div class="form-group">
                                <label>Calories</label>
                                <input type="text" formControlName="calories" appNumbersOnly>
                            </div>
                        </div>




                        <div class=" col-sm-4 col-12">
                            <div class="form-group">
                                <label>Stock Status<span class="manitory">*</span></label>
                                <div class="btn-group">
                                    <button type="button" class="custom-select-btn dropdown-toggle text-left"
                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        {{selectedStockStatus}}
                                    </button>
                                    <div class="dropdown-menu dropdown-menu-right">
                                        <a class="dropdown-item " *ngFor="let item of stockStatusList"
                                            (click)="selectStockStatus(item)">
                                            {{item}}
                                        </a>

                                    </div>
                                </div>
                            </div>
                        </div>




                        <div class=" col-sm-6 col-12" *ngIf="selectedStockStatus=='Yes'" >
                            <div class="form-group">
                                <label>Stock (Quantity)<span class="manitory">*</span></label>
                                <input type="text" formControlName="stock" appNumbersOnly >
                            </div>
                        </div>

                     
                       
                     


                        <div class="col-lg-12">
                            <div class="form-group">
                                <label>Description</label>
                                <textarea class="form-control" formControlName="description"></textarea>
                            </div>
                        </div>

                    </form>
                    <div class="d-flex justify-content-end">
                        <div class="page-btn">
                            <button class="btn btn-primary me-2" (click)="addItem()">Add</button>
                            <button class="btn btn-secondary">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row d-flex justify-content-end">
                <div class="page-btn">
                    <button class="btn btn-primary me-2">Submit</button>
                    <button class="btn btn-secondary">Cancel</button>
                </div>
            </div>


        </div>
    </div>
</div>






<!-- <div class="modal fade bd-example-modal-lg" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            ...
        </div>
    </div>
</div> -->





<div class="modal show bd-example-modal-lg" id="exampleModalCenter" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header justify-content-center">
                <h5 class="modal-title" id="exampleModalLongTitle">Set of Instructions</h5>

            </div>
            <div class="modal-body px-5 py-4">
                <ul style="list-style: initial;">
                    <li>hsladfhsldk shdflksdhfl shdflksdh hnsadklfhsdlkhf hklsdflkhsdakf klsdhflksdhf hsdfklhsdkfhsd
                        sdhfsdlkhf</li>
                    <li>hsladfhsldk shdflksdhfl shdflksdh hnsadklfhsdlkhf hklsdflkhsdakf klsdhflksdhf hsdfklhsdkfhsd
                        sdhfsdlkhf</li>
                    <li>hsladfhsldk shdflksdhfl shdflksdh hnsadklfhsdlkhf hklsdflkhsdakf klsdhflksdhf hsdfklhsdkfhsd
                        sdhfsdlkhf</li>
                    <li>hsladfhsldk shdflksdhfl shdflksdh hnsadklfhsdlkhf hklsdflkhsdakf klsdhflksdhf hsdfklhsdkfhsd
                        sdhfsdlkhf</li>
                    <li>hsladfhsldk shdflksdhfl shdflksdh hnsadklfhsdlkhf hklsdflkhsdakf klsdhflksdhf hsdfklhsdkfhsd
                        sdhfsdlkhf</li>
                    <li>hsladfhsldk shdflksdhfl shdflksdh hnsadklfhsdlkhf hklsdflkhsdakf klsdhflksdhf hsdfklhsdkfhsd
                        sdhfsdlkhf</li>
                </ul>
            </div>
            <div class="modal-footer justify-content-evenly">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" (click)="excelDownload()" data-dismiss="modal">Download
                    Excel</button>
            </div>
        </div>
    </div>
</div>